<html>
  <head>
    <title>Comment add</title>
  </head>

  <body>
    <form action="/comment/" method="post">
      <input type="text" name="name">
      <select id="region" name="region" onchange="onRegionChange()"></select>
      <input type="submit"/>
    </form>


    <script>
      var onRegionChange = function(self) {
        console.log(self);
      }

      window.onload = function() {

        console.log('page loaded');

        xhttp = new XMLHttpRequest();
        xhttp.responseType = 'json';
        xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            var data = this.response;
            for(var i in data) {
              var html = '<option value=' + i + '>' + data[i] + '</option>';
              document.getElementById('region').innerHTML += html;
            }
          }
        };
        xhttp.open('GET', '/api/get/regions/', true);
        xhttp.send();



      }
    </script>

  </body>

</html>
